<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Multiagent Simulator: View Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Multiagent Simulator
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_view-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">View Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="class_view.html" title="View class constitutes and interface between a RequestHandler and the Model.">View</a> class constitutes and interface between a <a class="el" href="class_request_handler.html" title="Class constituting an interface between the server-side and the MVC instances.">RequestHandler</a> and the <a class="el" href="class_model.html" title="Main model of the application. Top layer of the application state interface.">Model</a>.  
 <a href="class_view.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_view_8h_source.html">View.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0d811f748bee3af8b01b3cd9a736df12"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_view.html#a0d811f748bee3af8b01b3cd9a736df12">View</a> (const std::shared_ptr&lt; <a class="el" href="class_model.html">Model</a> &gt; &amp;model)</td></tr>
<tr class="memdesc:a0d811f748bee3af8b01b3cd9a736df12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a new instance of the <a class="el" href="class_view.html" title="View class constitutes and interface between a RequestHandler and the Model.">View</a>.  <a href="class_view.html#a0d811f748bee3af8b01b3cd9a736df12">More...</a><br /></td></tr>
<tr class="separator:a0d811f748bee3af8b01b3cd9a736df12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a3cdb6874e250bc539b757c9495e80a"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_view.html#a7a3cdb6874e250bc539b757c9495e80a">getResource</a> (const std::string &amp;target, bool &amp;is_redirect)</td></tr>
<tr class="memdesc:a7a3cdb6874e250bc539b757c9495e80a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Evaluates path to the requested resource. If resource is a .css files method modifies target basing on actual Theme set in the model. Else, it returns passed path without changes. In both cases _docRoot path is inserted at the beggining of the target.  <a href="class_view.html#a7a3cdb6874e250bc539b757c9495e80a">More...</a><br /></td></tr>
<tr class="separator:a7a3cdb6874e250bc539b757c9495e80a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74464ce66433fad56073298ec9632c85"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_view.html#a74464ce66433fad56073298ec9632c85">getData</a> (const std::string &amp;requested_data)</td></tr>
<tr class="memdesc:a74464ce66433fad56073298ec9632c85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the Data object.  <a href="class_view.html#a74464ce66433fad56073298ec9632c85">More...</a><br /></td></tr>
<tr class="separator:a74464ce66433fad56073298ec9632c85"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:af0563112f8eb613951d12fb59ff3ba75"><td class="memItemLeft" align="right" valign="top"><a id="af0563112f8eb613951d12fb59ff3ba75"></a>
const std::shared_ptr&lt; <a class="el" href="class_model.html">Model</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_view.html#af0563112f8eb613951d12fb59ff3ba75">__model</a></td></tr>
<tr class="memdesc:af0563112f8eb613951d12fb59ff3ba75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the model. <br /></td></tr>
<tr class="separator:af0563112f8eb613951d12fb59ff3ba75"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="class_view.html" title="View class constitutes and interface between a RequestHandler and the Model.">View</a> class constitutes and interface between a <a class="el" href="class_request_handler.html" title="Class constituting an interface between the server-side and the MVC instances.">RequestHandler</a> and the <a class="el" href="class_model.html" title="Main model of the application. Top layer of the application state interface.">Model</a>. </p>
<p>When <a class="el" href="class_request_handler.html" title="Class constituting an interface between the server-side and the MVC instances.">RequestHandler</a> gets a request from the client it parses it, optionally calls <a class="el" href="class_controller.html" title="Controller class is an interface between RequestHandler and Model instance.">Controller</a> to inform <a class="el" href="class_model.html" title="Main model of the application. Top layer of the application state interface.">Model</a> about an action performed by the user and calls an appropriate <a class="el" href="class_view.html" title="View class constitutes and interface between a RequestHandler and the Model.">View</a>'s method to get response to be sent back.</p>
<p>There are two types of responses that <a class="el" href="class_view.html" title="View class constitutes and interface between a RequestHandler and the Model.">View</a> can provide <a class="el" href="class_request_handler.html" title="Class constituting an interface between the server-side and the MVC instances.">RequestHandler</a> with. The first is a path to the static file, that should be sent back to the client This kind of response is returned, when <a class="el" href="class_request_handler.html" title="Class constituting an interface between the server-side and the MVC instances.">RequestHandler</a> receives a GET request. GET requests are always sent by the web browser and are associated with some kind of static resources to be sent back to the client. In this scenario <a class="el" href="class_request_handler.html" title="Class constituting an interface between the server-side and the MVC instances.">RequestHandler</a> calls <a class="el" href="class_view.html#a7a3cdb6874e250bc539b757c9495e80a" title="Evaluates path to the requested resource. If resource is a .css files method modifies target basing o...">View::getResource</a> to get the Path to the file.</p>
<p>In the second scenario, <a class="el" href="class_request_handler.html" title="Class constituting an interface between the server-side and the MVC instances.">RequestHandler</a> receives POST request which indicates user's action that was noticed by the local JavScript script and was sent to the server. This situations doesn't have to require any data beeing sent back to the client, but if so, <a class="el" href="class_request_handler.html" title="Class constituting an interface between the server-side and the MVC instances.">RequestHandler</a> calls <a class="el" href="class_view.html#a74464ce66433fad56073298ec9632c85" title="Get the Data object.">View::getData</a> that returns string containing a JSON-formatted data that should be sent back to the client.</p>
<p>All data that is returned to the <a class="el" href="class_request_handler.html" title="Class constituting an interface between the server-side and the MVC instances.">RequestHandler</a> is always based on the <a class="el" href="class_model.html" title="Main model of the application. Top layer of the application state interface.">Model</a>'s state and is independant from the <a class="el" href="class_controller.html" title="Controller class is an interface between RequestHandler and Model instance.">Controller</a>'s state.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_request_handler_8h_source.html">RequestHandler.h</a> </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a0d811f748bee3af8b01b3cd9a736df12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d811f748bee3af8b01b3cd9a736df12">&#9670;&nbsp;</a></span>View()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">View::View </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="class_model.html">Model</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>model</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a new instance of the <a class="el" href="class_view.html" title="View class constitutes and interface between a RequestHandler and the Model.">View</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>Shared pointer to the <a class="el" href="class_model.html" title="Main model of the application. Top layer of the application state interface.">Model</a> instance </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a74464ce66433fad56073298ec9632c85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74464ce66433fad56073298ec9632c85">&#9670;&nbsp;</a></span>getData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string View::getData </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>requested_data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the Data object. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000011">Todo:</a></b></dt><dd>Implements fetching data from the <a class="el" href="class_model.html" title="Main model of the application. Top layer of the application state interface.">Model</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">requested_data</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::string </dd></dl>
<p>At now there is a single POST request that can demand any data to be sent back to the client. This request is a querry for a simulation snapshot - JSON-formetted text containing informations about actual simulation's state.</p>

</div>
</div>
<a id="a7a3cdb6874e250bc539b757c9495e80a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a3cdb6874e250bc539b757c9495e80a">&#9670;&nbsp;</a></span>getResource()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string View::getResource </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>is_redirect</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Evaluates path to the requested resource. If resource is a .css files method modifies target basing on actual Theme set in the model. Else, it returns passed path without changes. In both cases _docRoot path is inserted at the beggining of the target. </p>
<p>If requested page is a simulation page and simulation was not activated yet, redirection indicator is set to true and returne path points to the redirection target.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">target</td><td>[in] Relative path to the requested resource </td></tr>
    <tr><td class="paramname">is_redirect</td><td>[out] True if requested page is not available at now and redirect response is required </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Evaluated, relative path to the requested reource </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000007">Todo:</a></b></dt><dd>.css files constituting another themes should be placed in the /web/simple_client/css/themename_folder and should be divided into index.css and sub-sites/file.css files.</dd></dl>
<p>If theme other than default is set, the only thing to change in target string is to insert '/themename_folder' after '.../css'.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/cris/Desktop/Projekt/include/app/mvc/view/<a class="el" href="_view_8h_source.html">View.h</a></li>
<li>/home/cris/Desktop/Projekt/src/mvc/view/<a class="el" href="_view_8cc.html">View.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
